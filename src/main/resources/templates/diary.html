<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="fragments/global::header"></div>
    <link th:href="@{/css/diary.css}" rel="stylesheet"/>
    <title>Diary Demo</title>
</head>
<body>

    <!-- The sidebar -->
    <nav class="sidebar d-flex flex-column">
        <!-- Book links -->
        <div id="bookLinks">
            <div th:each="book : ${books}" th:include="fragments/diary::book"></div>
        </div>
        <!-- Create book link -->
        <div th:include="fragments/diary::create_book_link"></div>
        <!-- User related links -->
        <div class="flex-fill"></div>
        <span style="display: block; color:grey; padding: 16px;" th:text="${user.username}"></span>
        <a class="item" th:href="@{/logout}">Logout</a>
    </nav>

    <!-- Page content -->
    <div class="content">
        <!-- If haven't created any book -->
        <div th:if="${currentBookId == -1}">Please create a diary book.</div>
        <!-- Records -->
        <div
            th:if="${records}"
            th:each="record : ${records}"
            th:include="fragments/diary::record"></div>
    </div>

    <div th:replace="fragments/global::toast"></div>
    <div th:replace="fragments/diary::create_book_dialog"></div>
    <div th:replace="fragments/diary::update_book_dialog"></div>
    <div th:replace="fragments/diary::delete_book_dialog"></div>

    <div th:replace="fragments/global::scripts"></div>
    <div th:replace="fragments/diary::scripts"></div>

</body>
</html>
